<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fortune Cookie</title>

    <!-- Google Font: Poppins -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">

    <style>
        /* General Styling */
        html, body {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            background: #2178ae;
            font-family: 'Poppins', sans-serif;
            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
        }

        /* Fortune Cookie Container */
        .container {
            position: relative;
            width: 100%;
            max-width: 500px;
            height: 90vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 2;
        }

        /* Header Image */
        header {
            width: 100%;
            max-width: 300px; /* Smaller header */
            margin-bottom: 20px;
        }

        header img {
            width: 100%;
            height: auto;
        }

        /* Instruction Text */
        h1 {
            font-size: 1.5em;
            font-weight: 600;
            text-transform: uppercase;
            color: #cfe7cd; /* Fix color */
            margin-bottom: 20px;
        }

        /* Fortune Cookie Container */
        .cookie-container {
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 300px;
            height: 250px;
            z-index: 1;
        }

        /* Cookie Halves */
        .cookie-half {
            position: absolute;
            width: 45%;
            transform-origin: bottom center;
            transition: transform 0.6s ease;
        }

        #left-cookie {
            left: 50%;
            transform: translateX(-50%) rotate(0deg);
        }

        #right-cookie {
            right: 50%;
            transform: translateX(50%) rotate(0deg);
        }

        /* Opened Position */
        .opened #left-cookie {
            transform: translateX(-120%) rotate(-45deg);
        }

        .opened #right-cookie {
            transform: translateX(120%) rotate(45deg);
        }

        /* Fortune Box */
        #fortune-box {
            position: absolute;
            background: white;
            color: #2178ae;
            font-family: 'Poppins', sans-serif; /* Fix font */
            font-weight: 600;
            padding: 10px;
            border-radius: 5px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
            text-align: center;
            opacity: 0;
            transform: scale(0.8);
            transition: opacity 0.5s ease, transform 0.5s ease;
            z-index: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 240px; /* Fixed width */
            height: 55px; /* Fixed height */
            font-size: 1em;
            line-height: 1.2;
        }

        .opened #fortune-box {
            opacity: 1;
            transform: scale(1);
        }

        /* Try Again Button */
        #reset-btn {
            margin-top: 20px;
            padding: 10px 20px;
            font-size: 1em;
            cursor: pointer;
            background: #fac92c;
            color: #2178ae;
            text-transform: uppercase;
            border: none;
            border-radius: 5px;
            font-weight: 600;
            transition: transform 0.3s ease;
            position: absolute;
            bottom: 10%;
            display: none;
        }

        #reset-btn:hover {
            transform: scale(1.1);
        }

        /* Mobile Adjustments */
        @media (max-width: 600px) {
            header {
                max-width: 250px; /* Even smaller on mobile */
            }

            h1 {
                font-size: 1.2em;
            }

            .cookie-container {
                width: 220px;
                height: 170px;
            }

            #fortune-box {
                width: 250px;
                height: 55px;
                font-size: 0.9em;
            }

            #reset-btn {
                font-size: 0.9em;
            }
        }
    </style>
</head>
<body>
    <!-- Layout Container -->
    <div class="container">
        <!-- Header Image -->
        <header>
            <img src="img/header.png" alt="Fortune Cookie Header">
        </header>

        <!-- Instruction Text -->
        <h1>Tap the Cookie</h1>

        <!-- Fortune Cookie -->
        <div class="cookie-container" id="cookie-container" onclick="openCookie(event)">
            <img src="img/fortune-cookie-open-left.png" alt="Left Cookie Half" class="cookie-half" id="left-cookie">
            <img src="img/fortune-cookie-open-right.png" alt="Right Cookie Half" class="cookie-half" id="right-cookie">
            <div id="fortune-box"></div>
        </div>

        <!-- Reset Button -->
        <button id="reset-btn" onclick="resetCookie()">Try Again</button>
    </div>

    <script>
        let fortunes = [
            "You will soon be reminded how deeply you are loved.",
            "A special someone thinks you are their greatest treasure.",
            "Good fortune follows those who love with their whole heart.",
            "A warm embrace is in your near future.",
            "Your kindness makes love grow stronger each day.",
            "An unexpected 'I love you' will brighten your day.",
            "A lifetime of laughter and love awaits you.",
            "You are loved more than you know.",
            "Your heart has found its perfect match.",
            "Every day with you is its own kind of good luck.",
            "A sweet surprise is coming your way.",
            "Someone is grateful every day to have you by their side.",
            "A popcorn-filled movie night will bring unexpected joy.",
            "A cozy night at the Drafthouse is in your near future.",
            "The next dog zoomies session will bring uncontrollable laughter.",
            "A meal cooked together will taste even better than usual.",
            "A long hug will be exactly what is needed.",
            "A dog will soon steal the warmest spot on the couch.",
            "A Wemby highlight will soon make you say 'DID YOU SEE THAT?!' out loud."
        ];

        function getRandomFortune() {
            return fortunes[Math.floor(Math.random() * fortunes.length)];
        }

        function openCookie(event) {
            document.getElementById("cookie-container").classList.add("opened");
            document.getElementById("fortune-box").textContent = getRandomFortune();
            document.getElementById("reset-btn").style.display = "block";
            event.stopPropagation();
        }

        function resetCookie() {
            document.getElementById("cookie-container").classList.remove("opened");
            document.getElementById("fortune-box").textContent = "";
            document.getElementById("reset-btn").style.display = "none";
        }

        document.body.addEventListener("click", function(event) {
            if (!event.target.closest(".cookie-container")) {
                resetCookie();
            }
        });
    </script>
</body>
</html>
