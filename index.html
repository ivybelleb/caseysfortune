<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fortune Cookie</title>

    <!-- Google Font: Poppins & Dancing Script -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&family=Dancing+Script:wght@400;600&display=swap" rel="stylesheet">

    <style>
        /* General Styling */
        html, body {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            background: #2178ae;
            font-family: 'Poppins', sans-serif;
            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
        }

        /* Fortune Cookie Container */
        .container {
            position: relative;
            width: 100%;
            max-width: 500px;
            height: 90vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 2;
        }

        /* Fortune Box - Fixed Size */
        #fortune-box {
            position: absolute;
            background: white;
            color: #2178ae;
            font-family: 'Dancing Script', cursive; /* Cursive font for fortune */
            font-weight: 600;
            padding: 12px 15px;
            border-radius: 5px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
            text-align: center;
            opacity: 0;
            transform: scale(0.8);
            transition: opacity 0.5s ease, transform 0.5s ease;
            z-index: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 220px; /* Default size */
            height: 55px; /* Keeps it to 2 lines max */
            font-size: clamp(0.9em, 3vw, 1.2em); /* Adjusts for long text */
            text-wrap: balance;
        }

        .opened #fortune-box {
            opacity: 1;
            transform: scale(1);
        }

        /* Try Again Button */
        #reset-btn {
            margin-top: 20px;
            padding: 10px 20px;
            font-size: 0.9em;
            cursor: pointer;
            background: #fac92c; /* Yellow */
            color: #2178ae;
            text-transform: uppercase;
            border: none;
            border-radius: 5px;
            font-weight: 600;
            transition: transform 0.3s ease;
            position: absolute;
            bottom: 10%;
            display: none;
        }

        #reset-btn:hover {
            transform: scale(1.1);
        }

    </style>
</head>
<body>
    <!-- Layout Container -->
    <div class="container">
        <!-- Header Image -->
        <header>
            <img src="img/header.png" alt="Fortune Cookie Header">
        </header>

        <!-- Instruction Text -->
        <h1>Tap the Cookie</h1>

        <!-- Fortune Cookie -->
        <div class="cookie-container" id="cookie-container" onclick="openCookie(event)">
            <img src="img/fortune-cookie-open-left.png" alt="Left Cookie Half" class="cookie-half" id="left-cookie">
            <img src="img/fortune-cookie-open-right.png" alt="Right Cookie Half" class="cookie-half" id="right-cookie">
            <div id="fortune-box"></div> <!-- Empty fortune box -->
        </div>

        <!-- Reset Button -->
        <button id="reset-btn" onclick="resetCookie()">Try Again</button>
    </div>

    <script>
        let fortunes = [
            "You will soon be reminded how deeply you are loved.",
            "A special someone thinks you are their greatest treasure.",
            "Good fortune follows those who love with their whole heart.",
            "A warm embrace is in your near future.",
            "You hold the key to someone’s happiest moments.",
            "Your kindness makes love grow stronger each day.",
            "An unexpected “I love you” will brighten your day.",
            "A lifetime of laughter and love awaits you.",
            "You are loved more than you know.",
            "Your heart has found its perfect match.",
            "Every day with you is its own kind of good luck.",
            "A sweet surprise is coming your way.",
            "Great love is built on small, thoughtful moments.",
            "Someone’s favorite place is right next to you.",
            "Your heart and theirs were always meant to find each other.",
            "A night of laughter and love is in your future.",
            "Your heart is where someone feels most at home.",
            "An affectionate glance will tell you everything you need to know.",
            "A thoughtful gesture will deepen your bond today.",
            "You are exactly where you’re meant to be—with the one who loves you.",
            "Someone is grateful every day to have you by their side.",
            "A warm morning spoon is in your near future.",
            "Lemon pasta and laughter will soon fill the air.",
            "A popcorn-filled movie night will bring unexpected joy.",
            "A dog cuddle pile is imminent. Prepare accordingly.",
            "A random forehead kiss is in your near future.",
            "A familiar hand will reach for yours at just the right time.",
            "A quiet evening in will turn into a perfect memory.",
            "A long hug will be exactly what is needed.",
            "A shared meal, a quiet moment, and a familiar presence—pure happiness ahead.",
            "The next meal you eat will be interrupted by puppy dog eyes begging for a bite.",
            "A surprise Spurs win will lead to excessive celebration.",
            "A future discussion about what to watch will take longer than the show itself.",
            "A pickleball match will lead to serious but completely unnecessary competitiveness.",
            "A dog will soon steal the warmest spot on the couch.",
            "A sudden craving for Thai food is imminent.",
            "The next time you sit down, a dog will instantly claim your lap.",
            "A Wemby highlight will soon make you say ‘DID YOU SEE THAT?!’ out loud."
        ];

        let usedFortunes = [];

        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        function getRandomFortune() {
            if (fortunes.length === 0) {
                fortunes = [...usedFortunes];
                usedFortunes = [];
                shuffleArray(fortunes);
            }
            let fortune = fortunes.pop();
            usedFortunes.push(fortune);
            return fortune;
        }

        function openCookie(event) {
            document.getElementById("cookie-container").classList.add("opened");
            document.getElementById("fortune-box").textContent = getRandomFortune();
            document.getElementById("reset-btn").style.display = "block";
            event.stopPropagation();
        }

        function resetCookie() {
            document.getElementById("cookie-container").classList.remove("opened");
            document.getElementById("fortune-box").textContent = "";
            document.getElementById("reset-btn").style.display = "none";
        }

        document.body.addEventListener("click", function(event) {
            if (!event.target.closest(".cookie-container")) {
                resetCookie();
            }
        });

        shuffleArray(fortunes);
    </script>
</body>
</html>
