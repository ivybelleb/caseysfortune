<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fortune Cookie</title>

    <!-- Google Font: Poppins -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">

    <style>
        /* General Styling */
        html, body {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            background: #2178ae;
            font-family: 'Poppins', sans-serif;
            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
        }

        /* Fortune Cookie Container */
        .container {
            position: relative;
            width: 100%;
            max-width: 500px;
            height: 90vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 2;
        }

        /* Header Image */
        header {
            width: 100%;
            max-width: 400px;
            margin-bottom: 30px;
        }

        header img {
            width: 100%;
            height: auto;
        }

        /* Instruction Text */
        h1 {
            font-size: 1.8em;
            font-weight: 600;
            text-transform: uppercase;
            color: #cfe7cd;
            margin-bottom: 20px;
        }

        /* Fortune Cookie Container */
        .cookie-container {
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            height: 250px;
            width: 300px;
            z-index: 1;
        }

        /* Cookie Halves */
        .cookie-half {
            position: absolute;
            width: 45%;
            transform-origin: bottom center;
            transition: transform 0.6s ease;
        }

        #left-cookie {
            left: 50%;
            transform: translateX(-50%) rotate(0deg);
        }

        #right-cookie {
            right: 50%;
            transform: translateX(50%) rotate(0deg);
        }

        /* Opened Position */
        .opened #left-cookie {
            transform: translateX(-150%) rotate(-45deg);
        }

        .opened #right-cookie {
            transform: translateX(150%) rotate(45deg);
        }

        /* Fortune Box */
        #fortune-box {
            position: absolute;
            background: white;
            color: #2178ae;
            font-weight: 600;
            padding: 10px 15px;
            border-radius: 5px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
            font-size: 1em;
            width: 200px;
            opacity: 0;
            transform: scale(0.8);
            transition: opacity 0.5s ease, transform 0.5s ease;
            z-index: 1;
        }

        .opened #fortune-box {
            opacity: 1;
            transform: scale(1);
        }

        /* Try Again Button */
        #reset-btn {
            margin-top: 20px;
            padding: 10px 20px;
            font-size: 0.9em;
            cursor: pointer;
            background: #fac92c; /* Changed to Yellow */
            color: #2178ae; /* Contrasting Blue */
            text-transform: uppercase;
            border: none;
            border-radius: 5px;
            font-weight: 600;
            transition: transform 0.3s ease;
            position: absolute;
            bottom: 10%;
            display: none;
        }

        #reset-btn:hover {
            transform: scale(1.1);
        }

        @media (max-width: 600px) {
            header { max-width: 300px; }
            h1 { font-size: 1.2em; }
            .cookie-container { width: 200px; height: 150px; }
            #fortune-box { width: 150px; font-size: 0.9em; }
            #reset-btn { font-size: 0.8em; }
        }
    </style>
</head>
<body>
    <!-- Layout Container -->
    <div class="container">
        <!-- Header Image -->
        <header>
            <img src="img/header.png" alt="Fortune Cookie Header">
        </header>

        <!-- Instruction Text -->
        <h1>Tap the Cookie</h1>

        <!-- Fortune Cookie -->
        <div class="cookie-container" id="cookie-container" onclick="openCookie(event)">
            <img src="img/fortune-cookie-open-left.png" alt="Left Cookie Half" class="cookie-half" id="left-cookie">
            <img src="img/fortune-cookie-open-right.png" alt="Right Cookie Half" class="cookie-half" id="right-cookie">
            <div id="fortune-box"></div> <!-- Empty fortune box -->
        </div>

        <!-- Reset Button -->
        <button id="reset-btn" onclick="resetCookie()">Try Again</button>
    </div>

    <script>
        const fortunes = [
            "You will soon be reminded how deeply you are loved.",
            "A special someone thinks you are their greatest treasure.",
            "Good fortune follows those who love with their whole heart.",
            "A warm embrace is in your near future.",
            "Your kindness makes love grow stronger each day.",
            "A lifetime of laughter and love awaits you.",
            "You are loved more than you know.",
            "Your heart has found its perfect match.",
            "A sweet surprise is coming your way.",
            "A night of laughter and love is in your future."
        ];

        let isOpened = false;

        function openCookie(event) {
            if (!isOpened) {
                document.getElementById("cookie-container").classList.add("opened");
                document.getElementById("fortune-box").textContent = fortunes[Math.floor(Math.random() * fortunes.length)];
                document.getElementById("reset-btn").style.display = "block";
                isOpened = true;
            } else {
                resetCookie();
                setTimeout(openCookie, 500); // Reopen after closing animation
            }
            event.stopPropagation();
        }

        function resetCookie() {
            isOpened = false;
            document.getElementById("cookie-container").classList.remove("opened");
            document.getElementById("fortune-box").textContent = "";
            document.getElementById("reset-btn").style.display = "none";
        }

        document.body.addEventListener("click", function(event) {
            if (!event.target.closest(".cookie-container")) {
                resetCookie();
            }
        });
    </script>
</body>
</html>
